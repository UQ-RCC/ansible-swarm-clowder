##
# Automatically generated by Ansible
##
{% set key_types = [
	{'key': 'ansible_ssh_host_key_rsa_public', 'ssh': 'ssh-rsa'},
	{'key': 'ansible_ssh_host_key_ecdsa_public', 'ssh': 'ecdsa-sha2-nistp256'},
	{'key': 'ansible_ssh_host_key_ed25519_public', 'ssh': 'ssh-ed25519'}
] %}

{%- for host in ssh_all_hosts %}
{% set hv = hostvars[host] %}{# Work around a bug in Ansible #}
{% set ips = ['ansible_all_ipv4_addresses', 'ansible_all_ipv6_addresses'] | map('extract', hv) | flatten -%}
{% for type in key_types %}
{% if hv[type.key] is defined %}
{% if inventory_hostname == host %}
127.0.0.1,127.0.1.1,localhost,::1,ip6-localhost,ip6-loopback {{ type.ssh }} {{ hv[type.key] }}
{% endif %}
{{ host }},{{ ips | join(',') }} {{ type.ssh }} {{ hv[type.key] }}
{% endif %}
{% endfor %}
{% endfor %}
